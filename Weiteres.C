// Usage:
// .L Weiteres.C
// canvas??("fp13.root")

#include <TH1D.h>
#include <TFile.h>
#include <TStyle.h>
#include <TColor.h>
#include <TCanvas.h>

// Anzahl der benutzten Detektorlagen
const int nLayers = 6;

////////////////////////////////////////////////////////////////////////
// Zeit des ersten Hits fuer alle Lagen
////////////////////////////////////////////////////////////////////////

void canvas1(const char *filename = "fp13.root") {

	gStyle->SetOptStat("nem");

	////////////////////////////////////////////////////////////////
	// Laden der Histogramme
	////////////////////////////////////////////////////////////////

	TFile *f = new TFile(filename);

	TH1D *z[nLayers];
	for (int i = 0; i < nLayers; ++i)
		z[i] = (TH1D*) f->Get(Form("z%d", i));
	////////////////////////////////////////////////////////////////
	// Histogramme zeichnen
	////////////////////////////////////////////////////////////////

	TCanvas *c1 = new TCanvas("c1");

	c1->Clear();
	c1->Divide(2,4);

	for (int i = 0; i < nLayers; ++i) {
		c1->cd(i + 1);
		z[i]->Draw();
		z[i]->SetFillColor(kBlue);
	}
}

////////////////////////////////////////////////////////////////////////
// Nachpulse pro Detektor
////////////////////////////////////////////////////////////////////////

void canvas2(const char *filename = "fp13.root") {

	gStyle->SetOptStat("en");

	////////////////////////////////////////////////////////////////
	// Laden der Histogramme
	////////////////////////////////////////////////////////////////

	TFile *f = new TFile(filename);

	TH1D *x[nLayers];
	for (int i = 0; i < nLayers; ++i)
		x[i] = (TH1D*) f->Get(Form("x%d", i));

	////////////////////////////////////////////////////////////////
	// Histogramme zeichnen
	////////////////////////////////////////////////////////////////

	TCanvas *c2 = new TCanvas("c2");

	c2->Clear();
	c2->Divide(2,4);

	for (int i = 1; i < nLayers; ++i) {
		c2->cd(i + 1);
		gPad->SetLogy();
		x[i]->Draw();
		x[i]->SetFillColor(kBlue);
	}
}

////////////////////////////////////////////////////////////////////////
// Hits pro Lage gesamt, alle auftretenden Zeiten, Nachpulse pro Lage
////////////////////////////////////////////////////////////////////////

void canvas3(const char *filename = "fp13.root") {

	gStyle->SetOptStat("en");

	////////////////////////////////////////////////////////////////
	// Laden der Histogramme
	////////////////////////////////////////////////////////////////

	TFile *f = new TFile(filename);

	TH1D *h1 = (TH1D*)f->Get("h1");
	TH1D *h2 = (TH1D*)f->Get("h2");
	TH1D *h6 = (TH1D*)f->Get("h6");
	TH1D *h8 = (TH1D*)f->Get("h8");

	////////////////////////////////////////////////////////////////
	// Histogramme zeichnen
	////////////////////////////////////////////////////////////////

	TCanvas *c3 = new TCanvas("c3");

	c3->Clear();
	c3->Divide(2,2);

	c3->cd(1);
	h1->Draw("hist");
	h1->SetFillColor(kBlue);

	c3->cd(2);
	h6->Draw("hist");
	h6->SetFillColor(kBlue);

	c3->cd(3);
	h2->Draw("hist");
	h2->SetFillColor(kBlue);

	c3->cd(4);
	h8->Draw("hist");
	h8->SetFillColor(kBlue);
}

////////////////////////////////////////////////////////////////////////
// Zerfall nach oben pro Lage
////////////////////////////////////////////////////////////////////////

void canvas4(const char *filename = "fp13.root") {

	gStyle->SetOptStat("en");

	////////////////////////////////////////////////////////////////
	// Laden der Histogramme
	////////////////////////////////////////////////////////////////

	TFile *f = new TFile(filename);

	TH1D *a[nLayers];
	for (int i = 1; i < nLayers-1; ++i)
		a[i] = (TH1D*) f->Get(Form("a%d", i));

	////////////////////////////////////////////////////////////////
	// Histogramme zeichnen
	////////////////////////////////////////////////////////////////

	TCanvas *c4 = new TCanvas("c4");

	c4->Clear();
	c4->Divide(2,3);

	for (int i = 1; i < nLayers-1; ++i) {
		c4->cd(i);
		a[i]->Draw();
		a[i]->SetFillColor(kBlue);
	}
}

////////////////////////////////////////////////////////////////////////
// Zerfall nach unten pro Lage
////////////////////////////////////////////////////////////////////////

void canvas5(const char *filename = "fp13.root") {

	gStyle->SetOptStat("en");

	////////////////////////////////////////////////////////////////
	// Laden der Histogramme
	////////////////////////////////////////////////////////////////

	TFile *f = new TFile(filename);

	TH1D *b[nLayers];
	for (int i = 1; i < nLayers-1; ++i)
		b[i] = (TH1D*) f->Get(Form("b%d", i));

	////////////////////////////////////////////////////////////////
	// Histogramme zeichnen
	////////////////////////////////////////////////////////////////

	TCanvas *c5 = new TCanvas("c5");

	c5->Clear();
	c5->Divide(2,3);

	for (int i = 1; i < nLayers-1; ++i) {
		c5->cd(i);
		b[i]->Draw();
		b[i]->SetFillColor(kBlue);
	}
}

////////////////////////////////////////////////////////////////////////
// Lage der Zerfaelle nach oben und Lage der Zerfaelle nach unten
////////////////////////////////////////////////////////////////////////

void canvas6(const char *filename = "fp13.root") {

	gStyle->SetOptStat("nem");

	////////////////////////////////////////////////////////////////
	// Laden der Histogramme
	////////////////////////////////////////////////////////////////

	TFile *f = new TFile(filename);

	TH1D *h3 = (TH1D*)f->Get("h3");
	TH1D *h4 = (TH1D*)f->Get("h4");

	////////////////////////////////////////////////////////////////
	// Histogramme zeichnen
	////////////////////////////////////////////////////////////////

	TCanvas *c6 = new TCanvas("c6");

	c6->Clear();
	c6->Divide(1,2);

	c6->cd(1);
	h3->Draw();
	h3->SetFillColor(kBlue);

	c6->cd(2);
	h4->Draw();
	h4->SetFillColor(kBlue);
}

////////////////////////////////////////////////////////////////////////
// Nachpulse2 pro Detektor
////////////////////////////////////////////////////////////////////////

void canvas7(const char *filename = "fp13.root") {

	gStyle->SetOptStat("ni");

	////////////////////////////////////////////////////////////////
	// Laden der Histogramme
	////////////////////////////////////////////////////////////////

	TFile *f = new TFile(filename);

	TH1D *w[nLayers];
	for (int i = 0; i < nLayers; ++i)
		w[i] = (TH1D*) f->Get(Form("z%d", i));

	////////////////////////////////////////////////////////////////
	// Histogramme zeichnen
	////////////////////////////////////////////////////////////////

	TCanvas *c7 = new TCanvas("c7");

	c7->Clear();
	c7->Divide(2,4);

	for (int i = 0; i < nLayers; ++i) {
		c7->cd(i + 1);
		w[i]->Draw();
		w[i]->SetFillColor(kBlue);
	}
}
